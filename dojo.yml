id: exploit-lab

name: "【课程实践3：软件漏洞利用实验】"

description: |
  课程实践3，主要内容为软件漏洞利用，包括基础的逆向分析，shellcode 编写与注入，栈溢出漏洞利用，ROP 与条件竞争

type: topic

award:
  emoji: 😀

modules:

  - id: reverse
    name: 1.1  逆向分析
    description: 在本单元中，你将学习到基础的逆向分析技巧，并学会使用 IDA 或 Ghidra

    challenges:
      - id: 1-1-1
        name: "1.1.1"
        description: 找到字符串

      - id: 1-1-2
        name: "1.1.2"
        description: 如果伪代码很难读懂，那么就需要恢复变量名和结构体
      
      - id: 1-1-3
        name: "1.1.3"
        description: 找到经过简单变换的字符串
      
      - id: 1-1-4
        name: "1.1.4"
        description: 这是一个一个大一时就学过的简单算法
      
      - id: 1-1-5
        name: "1.1.5"
        description: 这是一个简单的算法逆向，如果你暂时解决不出来，可以先完成其他单元

  - id: shellcode
    name: 1.2  shellcode 注入
    description: 在本单元中，你将学习编写最常见的 shellcode，并且利用这些 shellcode 完成挑战

    challenges:
      - id: 1-2-1
        name: "1.2.1"
        description: 这是一个没有任何限制的 shellcode

      - id: 1-2-2
        name: "1.2.2"
        description: nop sled 是一种常见的 shellcode 注入技巧
      
      - id: 1-2-3
        name: "1.2.3"
        description: 常见的 shellcode forbidden bytes -> 0x00 
      
      - id: 1-2-4
        name: "1.2.4"
        description: 一些程序不允许输入出现 syscall 相关字节

  - id: stack
    name: 1.3  粉粹程序栈
    description: 在本单元中，你将逐渐熟悉如何利用栈溢出漏洞

    challenges:
      - id: 1-3-1
        name: "1.3.1"
        description: TODO

      - id: 1-3-2
        name: "1.3.2"
        description: TODO
      
      - id: 1-3-3
        name: "1.3.3"
        description: return-to-text
      
      - id: 1-3-4
        name: "1.3.4"
        description: also return-to-text
      
      - id: 1-3-5
        name: "1.3.5"
        description: 绕过检查以进行栈溢出

      - id: 1-3-6
        name: "1.3.6"
        description: 大部分程序都开启了 PIE，这种情况下应该如何覆盖返回地址？
      
      - id: 1-3-7
        name: "1.3.7"
        description: return-to-shellcode in fixed mmap addr
      
      - id: 1-3-8
        name: "1.3.8"
        description: return-to-shellcode in stack（如果你不知道如何解决，可以先完成其他单元）

  - id: rop
    name: 1.4  Return Oriented Programming
    description: 在本单元中，你将学习基础的 ROP 技巧

    challenges:
      - id: 1-4-1
        name: "1.4.1"
        description: 无需 gadgets，但是最基础的 ROP

      - id: 1-4-2
        name: "1.4.2"
        description: 利用 ROP gadgets 控制函数参数
      
      - id: 1-4-3
        name: "1.4.3"
        description: 利用 ROP gadgets 完成一次完整的 ROP

  - id: race
    name: 1.5  条件竞争
    description: 在本单元中，你将学习基础的条件竞争漏洞与利用

    challenges:
      - id: 1-5-1
        name: "1.5.1"
        description: 尝试利用文件系统进行 race

      - id: 1-5-2
        name: "1.5.2"
        description: 同样尝试利用文件系统进行 race
      
      - id: 1-5-3
        name: "1.5.3"
        description: race 的时间窗变的更窄了

      - id: 1-5-4
        name: "1.5.4"
        description: 尝试利用 race 破坏内存